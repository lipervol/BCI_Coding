# BCI Coding

## Day One

### 设备调试

**设备**：设备用的是淘宝买的 *OpenBCI Cyton WIFI+蓝牙 16通道 + 16通道电极帽*，拿来做练习用

安装好设备之后带上大概是这个效果：

![佩戴](https://github.com/lipervol/BCI_Coding/blob/master/A1B99D9C1FCB650DB7F338446B33E16A.png)

初步测试了一下输出，看着有些乱，但是大概可以看到在25Hz左右有一个明显的尖峰，也就是有较强的beta波，表明我此时处于一个注意力集中的状态（*看数据ing*）

![数据](https://github.com/lipervol/BCI_Coding/blob/master/3528488a43ec2eb33f270e994ce7c2f.png)

![图例](https://github.com/lipervol/BCI_Coding/blob/master/1ab91ad2add3f379d61b381f2bf48f7.png)

## Day Two

### 脑电信号特点

* **脑电信号幅度非常微弱，频率范围0..5~50Hz**。一般头皮脑电信号只有±50uV左右，超过±100uV可以认为是噪声
* **脑电信号是一种随机性很强的非平稳信号**。之所以说随机性强，是因为影响它的因素太多，其规律又尚未被认识
* **脑电信号是非线性信号**。生物组织的调节以及自适应能力必然影响到电生理信号，这使得脑电具有典型的非线性的特点。而传统意义上的信号处理方法都是建立在线性系统理论分析基础之上的，因而分析结果是不可避免地丢失了很多原始信号所带的信息。这也是为什么非线性动力学混沌理论发展起来后被迅速运用到脑电的分析研究中的原因。

*在各种伪迹中，眼电对EEG的影响最大，因此通常在脑电测量的同时进行眼电信号的测量，以便可以进行离线的眼电伪迹去除。*

### 刺激选择

根据《*Stimuli design for SSVEP-based brain computer-interface*》一文所述，拟采取蓝色或绿色刺激，刺激频率15Hz，刺激强度的控制信号采用正弦形式。

### 采集部位选择

![10-20系统](https://github.com/lipervol/BCI_Coding/blob/master/c7e226b482ebeb313ea802f.jpg)

作用电极一共四个，分别放置在P3、P4以及O1、O2处，参考电极放置在Pz和Oz处（*采用国际标准导联10-20系统*）

### 锁时与锁相

* ERP：event-related Potentials，事件相关电位
* ERSP：event-related spectral perturbation，事件相关谱扰动

* ITC：inter trial coherence，试验间的相干性

* 锁时：同一过程的多个试验中刺激信号对输出的影响出现在相似的时间

* 锁相：同一过程的多个实验中输出信号的相位一致

多次同一过程的单个实验的**ITC如果接近1.0，则说明相位变化小**，也就是锁相，此时可以通过简单的线性方法，如叠加平均得到ERP，否则，**在ITC较低的情况下，则不能直接采取线性方法获得ERP**，只能通过包络检测或功率谱分析等非线性方法获得如ERS（事件相关的电位上升）或ERD（事件相关的电位下降）等特征。

**锁相的前提是锁时**，锁时与锁相的生理机制不同：

* 相对于刺激**锁相的是诱发反应（evoked response）**，如听觉、视觉诱发电位，反应的是自下而上的驱动过程
* 而非锁相的是**诱导反应（induced response）**，ERD/ERS反应的是一个自上而下的调节过程
* **ERP需要锁时锁相**，这是其能够通过叠加平均提取的根本，属于诱发反应；
* **ERSP锁时不锁相**，其反映的是能量值相对于基线的升高或降低，必然是锁时的，属于诱导反应。